{"version":3,"sources":["../projects/api/src/lib/enums/event-status.enum.ts","../projects/api/src/lib/enums/item-type.enum.ts","../projects/api/src/lib/enums/query-operator.enum.ts","../projects/api/src/lib/enums/role-type.enum.ts","../projects/api/src/lib/enums/scenario-type.enum.ts","../projects/api/src/lib/helpers/error.helper.ts","../projects/api/src/lib/helpers/meta.helper.ts","../projects/api/src/lib/services/server.service.ts","../projects/api/src/lib/services/action.service.ts","../projects/api/src/lib/services/connector.service.ts","../projects/api/src/lib/services/event.service.ts","../projects/api/src/lib/services/generator.service.ts","../projects/api/src/lib/services/item.service.ts","../projects/api/src/lib/services/library.service.ts","../projects/api/src/lib/services/project.service.ts","../projects/api/src/lib/services/provider.service.ts","../projects/api/src/lib/services/return.service.ts","../projects/api/src/lib/services/scenario.service.ts","../projects/api/src/lib/services/setting.service.ts","../projects/api/src/lib/services/synthesizer.service.ts","../projects/api/src/lib/services/system.service.ts","../projects/api/src/lib/services/upload.service.ts","../projects/api/src/lib/services/user.service.ts"],"names":["EventStatus","ItemType","QueryOperator","RoleType","ScenarioType","ErrorHelper","handleError","error","ErrorEvent","console","message","status","throwError","MetaHelper","getMeta","object","name","metadata","find","meta","ServerService","this","server","version","initialized","prototype","initialize","Object","defineProperty","query","path","filter","pagination","selectors","params","filters","forEach","f","selector","content","value","queryOperator","queryFields","field","page","perPage","offset","Injectable","args","providedIn","ActionService","http","serverService","httpOptions","headers","HttpHeaders","Content-Type","getActions","get","pipe","retry","catchError","performAction","items","action","post","identifier","HttpClient","ConnectorService","getConnectors","EventService","getEvents","selection","GeneratorService","getGenerators","ItemService","check","url","addItems","candidates","getItem","id","addItemMeta","updateItemMeta","deleteItemMeta","generator","LibraryService","validate","getLibraries","getLibrary","getItems","deleteItems","addLibrary","library","updateLibrary","cleanLibrary","deleteLibrary","addLibraryMeta","updateLibraryMeta","deleteLibraryMeta","ProjectService","getProjects","getProject","getProjectItems","libraries","push","getProjectLibraries","getProjectLibrary","addProject","project","updateProject","deleteProject","addProjectMeta","updateProjectMeta","deleteProjectMeta","ProviderService","getProviders","apiServer","ReturnService","getReturn","ScenarioService","getScenarios","getScenario","SettingService","getSettings","getSetting","updateSetting","setting","getDefaults","SynthesizerService","getSynthesizers","SystemService","getVersion","getModules","getLogs","UploadService","upload","file","uploadData","FormData","append","reportProgress","observe","UserService","getLoggedUser","getUsers","getUser","email","deleteUser","updateUser","user"],"mappings":"ifAMA,IAAYA,ECAAC,ECAAC,ECAAC,ECAAC,GJAZ,SAAYJ,GACVA,EAAA,QAAA,UACAA,EAAA,QAAA,UACAA,EAAA,KAAA,OAHF,CAAYA,IAAAA,EAAW,KCAvB,SAAYC,GACVA,EAAA,KAAA,OACAA,EAAA,MAAA,QACAA,EAAA,MAAA,QACAA,EAAA,QAAA,UAJF,CAAYA,IAAAA,EAAQ,KCApB,SAAYC,GACVA,EAAA,GAAA,KACAA,EAAA,IAAA,MAFF,CAAYA,IAAAA,EAAa,KCAzB,SAAYC,GACVA,EAAA,MAAA,QACAA,EAAA,OAAA,SAFF,CAAYA,IAAAA,EAAQ,KCApB,SAAYC,GACVA,EAAA,QAAA,UACAA,EAAA,QAAA,UAFF,CAAYA,IAAAA,EAAY,KCGxB,IAAAC,EAAA,WAAA,SAAAA,YAEgBA,EAAAC,YAAP,SAAmBC,GAYxB,OAXIA,EAAMA,iBAAiBC,WAEzBC,QAAQF,MAAM,qBAAsBA,EAAMA,MAAMG,SAIhDD,QAAQF,MACN,yBAAyBA,EAAMI,OAA/B,eACaJ,EAAMA,OAGhBK,EAAAA,WACL,sDAfN,GCDAC,EAAA,WAAA,SAAAA,YAEgBA,EAAAC,QAAP,SAAeC,EAAiBC,GACrC,OAAOD,EAAOE,SAASC,MAAK,SAACC,GAC3B,OAAOA,EAAKH,OAASA,QAJ3B,GCIAI,EAAA,WAKE,SAAAA,IAEEC,KAAKC,OAAS,mBACdD,KAAKE,QAAU,EACfF,KAAKG,aAAc,SAMdJ,EAAAK,UAAAC,WAAA,SAAWJ,EAAiBC,GAE7BD,IACFD,KAAKC,OAASA,GAGZC,IACFF,KAAKE,QAAUA,GAGjBF,KAAKG,aAAc,GAMrBG,OAAAC,eAAWR,EAAAK,UAAA,YAAS,KAApB,WACE,OAAOJ,KAAKC,wCAGdK,OAAAC,eAAWR,EAAAK,UAAA,aAAU,KAArB,WACE,OAAOJ,KAAKE,yCAGdI,OAAAC,eAAWR,EAAAK,UAAA,gBAAa,KAAxB,WACE,OAAOJ,KAAKG,6CAMPJ,EAAAK,UAAAI,MAAA,SAAMC,EAAcC,EAAiBC,EAAyBH,EAAeI,GAElF,IAAIC,EAAYJ,EAAI,IAoCpB,OAlCIC,GACFA,EAAOI,QAAQC,SAAQ,SAACC,GACtBH,GAAU,aAAaG,EAAC,OAIxBJ,GACFA,EAAUG,SAAQ,SAACE,GACjBA,EAASC,QAAQH,SAAQ,SAACI,GACxBN,GAAaI,EAAStB,KAAI,MAAMwB,EAAK,UAKvCX,IAEFK,GAAU,SAASL,EAAMA,MAAK,IAE1BA,EAAMY,gBACRP,GAAU,kBAAkBL,EAAMY,cAAa,KAG7CZ,EAAMa,aACRb,EAAMa,YAAYN,SAAQ,SAACO,GACzBT,GAAU,kBAAkBS,EAAK,QAKnCX,IAEFE,GAAU,QAAQF,EAAWY,KAAI,aAAaZ,EAAWa,QAAO,WAAWb,EAAWc,QAGjFzB,KAAKC,OAAS,KAAOD,KAAKE,QAAU,IAAMW,KApFrD,kHAHCa,EAAAA,WAAUC,KAAA,CAAC,CACVC,WAAY,iDCOd,IAAAC,EAAA,WAQE,SAAAA,EAAoBC,EAA0BC,GAA1B/B,KAAA8B,KAAAA,EAA0B9B,KAAA+B,cAAAA,EANtC/B,KAAAgC,YAAc,CACpBC,QAAS,IAAIC,EAAAA,YAAY,CACvBC,eAAgB,6BAQbN,EAAAzB,UAAAgC,WAAA,SAAW1B,GAChB,OAAOV,KAAK8B,KAAKO,IAASrC,KAAK+B,cAAcvB,MAAM,UAAWE,IAC3D4B,KACCC,EAAAA,MAAM,GACNC,EAAAA,WAAWxD,EAAYC,eAKtB4C,EAAAzB,UAAAqC,cAAA,SAAcC,EAAiBC,EAAgBjC,GACpD,OAAOV,KAAK8B,KAAKc,KAAU5C,KAAK+B,cAAcvB,MAAM,WAAWmC,EAAOE,WAAU,WAAYnC,GAAS,CAAEgC,MAAKA,GAAI1C,KAAKgC,aAClHM,KACCC,EAAAA,MAAM,GACNC,EAAAA,WAAWxD,EAAYC,iBAzB/B,0JAHCyC,EAAAA,WAAUC,KAAA,CAAC,CACVC,WAAY,oDARNkB,EAAAA,kBAIA/C,KCMR,IAAAgD,EAAA,WAEE,SAAAA,EAAoBjB,EAA0BC,GAA1B/B,KAAA8B,KAAAA,EAA0B9B,KAAA+B,cAAAA,SAIvCgB,EAAA3C,UAAA4C,cAAA,SAActC,GACnB,OAAOV,KAAK8B,KAAKO,IAASrC,KAAK+B,cAAcvB,MAAM,aAAcE,IAC9D4B,KACCC,EAAAA,MAAM,GACNC,EAAAA,WAAWxD,EAAYC,iBAV/B,0JAHCyC,EAAAA,WAAUC,KAAA,CAAC,CACVC,WAAY,oDARNkB,EAAAA,kBAIA/C,KCMR,IAAAkD,EAAA,WAEE,SAAAA,EAAoBnB,EAA0BC,GAA1B/B,KAAA8B,KAAAA,EAA0B9B,KAAA+B,cAAAA,SAIvCkB,EAAA7C,UAAA8C,UAAA,SAAUC,EAA0BzC,GACzC,YADe,IAAAyC,IAAAA,EAAA,MACRnD,KAAK8B,KAAKO,IAASrC,KAAK+B,cAAcvB,MAAM,UAAY2C,EAAWzC,IACvE4B,KACCC,EAAAA,MAAM,GACNC,EAAAA,WAAWxD,EAAYC,iBAV/B,0JAHCyC,EAAAA,WAAUC,KAAA,CAAC,CACVC,WAAY,oDARNkB,EAAAA,kBAGA/C,KCOR,IAAAqD,EAAA,WAEE,SAAAA,EAAoBtB,EAA0BC,GAA1B/B,KAAA8B,KAAAA,EAA0B9B,KAAA+B,cAAAA,SAIvCqB,EAAAhD,UAAAiD,cAAA,SAAc3C,GACnB,OAAOV,KAAK8B,KAAKO,IAASrC,KAAK+B,cAAcvB,MAAM,aAAcE,IAC9D4B,KACCC,EAAAA,MAAM,GACNC,EAAAA,WAAWxD,EAAYC,iBAV/B,0JAHCyC,EAAAA,WAAUC,KAAA,CAAC,CACVC,WAAY,oDARNkB,EAAAA,kBAGA/C,KCOR,IAAAuD,EAAA,WAQE,SAAAA,EAAoBxB,EAA0BC,GAA1B/B,KAAA8B,KAAAA,EAA0B9B,KAAA+B,cAAAA,EANtC/B,KAAAgC,YAAc,CACpBC,QAAS,IAAIC,EAAAA,YAAY,CACvBC,eAAgB,6BAQbmB,EAAAlD,UAAAmD,MAAA,SAAMC,EAAa9C,GACxB,OAAOV,KAAK8B,KAAKc,KAAU5C,KAAK+B,cAAcvB,MAAM,cAAeE,GAAS,CAAE8C,IAAGA,GAAIxD,KAAKgC,aACvFM,KACCC,EAAAA,MAAM,GACNC,EAAAA,WAAWxD,EAAYC,eAKtBqE,EAAAlD,UAAAqD,SAAA,SAASC,EAAyBhD,GACvC,OAAOV,KAAK8B,KAAKc,KAAU5C,KAAK+B,cAAcvB,MAAM,YAAaE,GAAS,CAAEgD,WAAUA,GAAI1D,KAAKgC,aAC5FM,KACCC,EAAAA,MAAM,GACNC,EAAAA,WAAWxD,EAAYC,eAKtBqE,EAAAlD,UAAAuD,QAAA,SAAQC,EAAYlD,GACzB,OAAOV,KAAK8B,KAAKO,IAASrC,KAAK+B,cAAcvB,MAAM,SAAWoD,EAAIlD,IAC/D4B,KACCC,EAAAA,MAAM,GACNC,EAAAA,WAAWxD,EAAYC,eAMtBqE,EAAAlD,UAAAyD,YAAA,SAAYD,EAAY9D,EAAkDY,GAC/E,OAAOV,KAAK8B,KAAKc,KAAU5C,KAAK+B,cAAcvB,MAAM,SAAWoD,EAAK,gBAAiBlD,GAASZ,EAAME,KAAKgC,aACtGM,KACCC,EAAAA,MAAM,GACNC,EAAAA,WAAWxD,EAAYC,eAKtBqE,EAAAlD,UAAA0D,eAAA,SAAeF,EAAY9D,EAAkDY,GAClF,OAAOV,KAAK8B,KAAKc,KAAU5C,KAAK+B,cAAcvB,MAAM,SAAWoD,EAAK,aAAe9D,EAAKH,KAAO,UAAWe,GAASZ,EAAME,KAAKgC,aAC3HM,KACCC,EAAAA,MAAM,GACNC,EAAAA,WAAWxD,EAAYC,eAKtBqE,EAAAlD,UAAA2D,eAAA,SAAeH,EAAY9D,GAChC,OAAOE,KAAK8B,KAAKO,IAASrC,KAAK+B,cAAcvB,MAAM,SAAWoD,EAAK,aAAe9D,EAAKH,KAAO,qBAAuBG,EAAKkE,YACvH1B,KACCC,EAAAA,MAAM,GACNC,EAAAA,WAAWxD,EAAYC,iBA9D/B,0JAHCyC,EAAAA,WAAUC,KAAA,CAAC,CACVC,WAAY,oDARNkB,EAAAA,kBAGA/C,KCOR,IAAAkE,EAAA,WAQE,SAAAA,EAAoBnC,EAA0BC,GAA1B/B,KAAA8B,KAAAA,EAA0B9B,KAAA+B,cAAAA,EANtC/B,KAAAgC,YAAc,CACpBC,QAAS,IAAIC,EAAAA,YAAY,CACvBC,eAAgB,6BAQb8B,EAAA7D,UAAA8D,SAAA,SAASvE,EAAce,GAC5B,OAAOV,KAAK8B,KAAKc,KAAU5C,KAAK+B,cAAcvB,MAAM,qBAAsBE,GAAS,CAACf,KAAIA,GAAGK,KAAKgC,aAC7FM,KACCC,EAAAA,MAAM,GACNC,EAAAA,WAAWxD,EAAYC,eAKtBgF,EAAA7D,UAAA+D,aAAA,SAAazD,GAClB,OAAOV,KAAK8B,KAAKO,IAASrC,KAAK+B,cAAcvB,MAAM,YAAaE,IAC7D4B,KACCC,EAAAA,MAAM,GACNC,EAAAA,WAAWxD,EAAYC,eAKtBgF,EAAA7D,UAAAgE,WAAA,SAAWR,EAAYlD,GAC5B,OAAOV,KAAK8B,KAAKO,IAASrC,KAAK+B,cAAcvB,MAAM,aAAeoD,EAAIlD,IACnE4B,KACCC,EAAAA,MAAM,GACNC,EAAAA,WAAWxD,EAAYC,eAKtBgF,EAAA7D,UAAAiE,SAAA,SAAST,EAAYlD,EAAiBC,EAAyBH,GACpE,OAAOR,KAAK8B,KAAKO,IAASrC,KAAK+B,cAAcvB,MAAM,aAAeoD,EAAK,SAAUlD,EAAQC,EAAYH,IAClG8B,KACCC,EAAAA,MAAM,GACNC,EAAAA,WAAWxD,EAAYC,eAKtBgF,EAAA7D,UAAAkE,YAAA,SAAYV,EAAYlB,GAC7B,OAAO1C,KAAK8B,KAAKc,KAAU5C,KAAK+B,cAAcvB,MAAM,aAAeoD,EAAK,iBAAkB,CAAClB,MAAKA,GAAG1C,KAAKgC,aACrGM,KACCC,EAAAA,MAAM,GACNC,EAAAA,WAAWxD,EAAYC,eAKtBgF,EAAA7D,UAAAmE,WAAA,SAAWC,EAAkB9D,GAClC,OAAOV,KAAK8B,KAAKc,KAAU5C,KAAK+B,cAAcvB,MAAM,gBAAiBE,GAAS8D,EAASxE,KAAKgC,aACzFM,KACCC,EAAAA,MAAM,GACNC,EAAAA,WAAWxD,EAAYC,eAKtBgF,EAAA7D,UAAAqE,cAAA,SAAcD,EAAkB9D,GACrC,OAAOV,KAAK8B,KAAKc,KAAU5C,KAAK+B,cAAcvB,MAAM,aAAegE,EAAQZ,GAAK,UAAWlD,GAAS8D,EAASxE,KAAKgC,aAC/GM,KACCC,EAAAA,MAAM,GACNC,EAAAA,WAAWxD,EAAYC,eAKtBgF,EAAA7D,UAAAsE,aAAA,SAAad,GAClB,OAAO5D,KAAK8B,KAAKO,IAASrC,KAAK+B,cAAcvB,MAAM,aAAeoD,EAAK,WACpEtB,KACCC,EAAAA,MAAM,GACNC,EAAAA,WAAWxD,EAAYC,eAKtBgF,EAAA7D,UAAAuE,cAAA,SAAcf,GACnB,OAAO5D,KAAK8B,KAAKO,IAASrC,KAAK+B,cAAcvB,MAAM,aAAeoD,EAAK,YACpEtB,KACCC,EAAAA,MAAM,GACNC,EAAAA,WAAWxD,EAAYC,eAKtBgF,EAAA7D,UAAAwE,eAAA,SAAehB,EAAY9D,EAAoCY,GACpE,OAAOV,KAAK8B,KAAKc,KAAU5C,KAAK+B,cAAcvB,MAAM,aAAeoD,EAAK,gBAAiBlD,GAASZ,EAAME,KAAKgC,aAC1GM,KACCC,EAAAA,MAAM,GACNC,EAAAA,WAAWxD,EAAYC,eAKtBgF,EAAA7D,UAAAyE,kBAAA,SAAkBjB,EAAY9D,EAAoCY,GACvE,OAAOV,KAAK8B,KAAKc,KAAU5C,KAAK+B,cAAcvB,MAAM,aAAeoD,EAAK,aAAe9D,EAAKH,KAAO,UAAWe,GAASZ,EAAME,KAAKgC,aAC/HM,KACCC,EAAAA,MAAM,GACNC,EAAAA,WAAWxD,EAAYC,eAKtBgF,EAAA7D,UAAA0E,kBAAA,SAAkBlB,EAAY9D,GACnC,OAAOE,KAAK8B,KAAKO,IAASrC,KAAK+B,cAAcvB,MAAM,aAAeoD,EAAK,aAAe9D,EAAKH,KAAO,YAC/F2C,KACCC,EAAAA,MAAM,GACNC,EAAAA,WAAWxD,EAAYC,iBAnH/B,0JAHCyC,EAAAA,WAAUC,KAAA,CAAC,CACVC,WAAY,oDARNkB,EAAAA,kBAGA/C,KCOR,IAAAgF,EAAA,WAQE,SAAAA,EAAoBjD,EAA0BC,GAA1B/B,KAAA8B,KAAAA,EAA0B9B,KAAA+B,cAAAA,EANtC/B,KAAAgC,YAAc,CACpBC,QAAS,IAAIC,EAAAA,YAAY,CACvBC,eAAgB,6BAQb4C,EAAA3E,UAAA8D,SAAA,SAASN,EAAYjE,EAAce,GACxC,OAAOV,KAAK8B,KAAKc,KAAU5C,KAAK+B,cAAcvB,MAAM,oBAAqBE,GAAS,CAACkD,GAAEA,EAAEjE,KAAIA,GAAGK,KAAKgC,aAChGM,KACCC,EAAAA,MAAM,GACNC,EAAAA,WAAWxD,EAAYC,eAKtB8F,EAAA3E,UAAA4E,YAAA,SAAYtE,GACjB,OAAOV,KAAK8B,KAAKO,IAASrC,KAAK+B,cAAcvB,MAAM,WAAYE,IAC5D4B,KACCC,EAAAA,MAAM,GACNC,EAAAA,WAAWxD,EAAYC,eAKtB8F,EAAA3E,UAAA6E,WAAA,SAAWrB,EAAYlD,GAC5B,OAAOV,KAAK8B,KAAKO,IAASrC,KAAK+B,cAAcvB,MAAM,YAAcoD,EAAIlD,IAClE4B,KACCC,EAAAA,MAAM,GACNC,EAAAA,WAAWxD,EAAYC,eAOtB8F,EAAA3E,UAAA8E,gBAAA,SAAgBtB,EAAYuB,EAAsBrF,EAAiBU,EAAeE,EAAiBC,GAExG,IAAMC,EAAY,GASlB,OAPIuE,GACFvE,EAAUwE,KAAK,CAACzF,KAAM,YAAauB,QAASiE,IAG1CrF,GACFc,EAAUwE,KAAK,CAACzF,KAAM,OAAQuB,QAASpB,IAElCE,KAAK8B,KAAKO,IAASrC,KAAK+B,cAAcvB,MAAM,YAAcoD,EAAK,SAAUlD,EAAQC,EAAYH,EAAOI,IACxG0B,KACCC,EAAAA,MAAM,GACNC,EAAAA,WAAWxD,EAAYC,eAKtB8F,EAAA3E,UAAAiF,oBAAA,SAAoBzB,EAAYlD,GACrC,OAAOV,KAAK8B,KAAKO,IAASrC,KAAK+B,cAAcvB,MAAM,YAAcoD,EAAK,aAAclD,IACjF4B,KACCC,EAAAA,MAAM,GACNC,EAAAA,WAAWxD,EAAYC,eAKtB8F,EAAA3E,UAAAkF,kBAAA,SAAkB1B,EAAYY,EAAiB9D,GACpD,OAAOV,KAAK8B,KAAKO,IAASrC,KAAK+B,cAAcvB,MAAM,YAAcoD,EAAK,cAAgBY,EAAS9D,IAC5F4B,KACCC,EAAAA,MAAM,GACNC,EAAAA,WAAWxD,EAAYC,eAKtB8F,EAAA3E,UAAAmF,WAAA,SAAWC,EAAkB9E,GAClC,OAAOV,KAAK8B,KAAKc,KAAU5C,KAAK+B,cAAcvB,MAAM,eAAgBE,GAAS8E,EAASxF,KAAKgC,aACxFM,KACCC,EAAAA,MAAM,GACNC,EAAAA,WAAWxD,EAAYC,eAKtB8F,EAAA3E,UAAAqF,cAAA,SAAcD,EAAkB9E,GACrC,OAAOV,KAAK8B,KAAKc,KAAU5C,KAAK+B,cAAcvB,MAAM,YAAcgF,EAAQ5B,GAAK,UAAWlD,GAAS8E,EAASxF,KAAKgC,aAC9GM,KACCC,EAAAA,MAAM,GACNC,EAAAA,WAAWxD,EAAYC,eAKtB8F,EAAA3E,UAAAsF,cAAA,SAAc9B,GACnB,OAAO5D,KAAK8B,KAAKO,IAASrC,KAAK+B,cAAcvB,MAAM,YAAcoD,EAAK,YACnEtB,KACCC,EAAAA,MAAM,GACNC,EAAAA,WAAWxD,EAAYC,eAKtB8F,EAAA3E,UAAAuF,eAAA,SAAe/B,EAAY9D,EAAoCY,GACpE,OAAOV,KAAK8B,KAAKc,KAAU5C,KAAK+B,cAAcvB,MAAM,YAAcoD,EAAK,gBAAiBlD,GAASZ,EAAME,KAAKgC,aACzGM,KACCC,EAAAA,MAAM,GACNC,EAAAA,WAAWxD,EAAYC,eAKtB8F,EAAA3E,UAAAwF,kBAAA,SAAkBhC,EAAY9D,EAAoCY,GACvE,OAAOV,KAAK8B,KAAKc,KAAU5C,KAAK+B,cAAcvB,MAAM,YAAcoD,EAAK,aAAe9D,EAAKH,KAAO,UAAWe,GAASZ,EAAME,KAAKgC,aAC9HM,KACCC,EAAAA,MAAM,GACNC,EAAAA,WAAWxD,EAAYC,eAKtB8F,EAAA3E,UAAAyF,kBAAA,SAAkBjC,EAAY9D,GACnC,OAAOE,KAAK8B,KAAKO,IAASrC,KAAK+B,cAAcvB,MAAM,YAAcoD,EAAK,aAAe9D,EAAKH,KAAO,YAC9F2C,KACCC,EAAAA,MAAM,GACNC,EAAAA,WAAWxD,EAAYC,iBA/H/B,0JAHCyC,EAAAA,WAAUC,KAAA,CAAC,CACVC,WAAY,oDARNkB,EAAAA,kBAGA/C,KCOR,IAAA+F,EAAA,WAEE,SAAAA,EAAoBhE,EAA0BC,GAA1B/B,KAAA8B,KAAAA,EAA0B9B,KAAA+B,cAAAA,SAIvC+D,EAAA1F,UAAA2F,aAAA,WACL,OAAO/F,KAAK8B,KAAKO,IAASrC,KAAK+B,cAAciE,UAAY,mBACtD1D,KACCC,EAAAA,MAAM,GACNC,EAAAA,WAAWxD,EAAYC,iBAV/B,0JAHCyC,EAAAA,WAAUC,KAAA,CAAC,CACVC,WAAY,oDARNkB,EAAAA,kBAGA/C,KCOR,IAAAkG,EAAA,WAEE,SAAAA,EAAoBnE,EAA0BC,GAA1B/B,KAAA8B,KAAAA,EAA0B9B,KAAA+B,cAAAA,SAIvCkE,EAAA7F,UAAA8F,UAAA,SAAUtC,EAAYlD,GAC3B,OAAOV,KAAK8B,KAAKO,IAASrC,KAAK+B,cAAcvB,MAAM,WAAaoD,EAAIlD,IACjE4B,KACCC,EAAAA,MAAM,GACNC,EAAAA,WAAWxD,EAAYC,iBAV/B,0JAHCyC,EAAAA,WAAUC,KAAA,CAAC,CACVC,WAAY,oDARNkB,EAAAA,kBAIA/C,KCMR,IAAAoG,EAAA,WAEE,SAAAA,EAAoBrE,EAA0BC,GAA1B/B,KAAA8B,KAAAA,EAA0B9B,KAAA+B,cAAAA,SAIvCoE,EAAA/F,UAAAgG,aAAA,WACL,OAAOpG,KAAK8B,KAAKO,IAASrC,KAAK+B,cAAcvB,MAAM,cAChD8B,KACCC,EAAAA,MAAM,GACNC,EAAAA,WAAWxD,EAAYC,eAKtBkH,EAAA/F,UAAAiG,YAAA,SAAYzC,GACjB,OAAO5D,KAAK8B,KAAKO,IAASrC,KAAK+B,cAAcvB,MAAM,aAAeoD,IAC/DtB,KACCC,EAAAA,MAAM,GACNC,EAAAA,WAAWxD,EAAYC,iBAnB/B,0JAHCyC,EAAAA,WAAUC,KAAA,CAAC,CACVC,WAAY,oDARNkB,EAAAA,kBAGA/C,KCOR,IAAAuG,EAAA,WAQE,SAAAA,EAAoBxE,EAA0BC,GAA1B/B,KAAA8B,KAAAA,EAA0B9B,KAAA+B,cAAAA,EANtC/B,KAAAgC,YAAc,CACpBC,QAAS,IAAIC,EAAAA,YAAY,CACvBC,eAAgB,6BAQbmE,EAAAlG,UAAAmG,YAAA,SAAY7F,GACjB,OAAOV,KAAK8B,KAAKO,IAASrC,KAAK+B,cAAcvB,MAAM,WAAYE,IAC5D4B,KACCC,EAAAA,MAAM,GACNC,EAAAA,WAAWxD,EAAYC,eAKtBqH,EAAAlG,UAAAoG,WAAA,SAAW7G,EAAce,GAC9B,OAAOV,KAAK8B,KAAKO,IAASrC,KAAK+B,cAAcvB,MAAM,YAAcb,EAAMe,IACpE4B,KACCC,EAAAA,MAAM,GACNC,EAAAA,WAAWxD,EAAYC,eAKtBqH,EAAAlG,UAAAqG,cAAA,SAAcC,EAAkBhG,GACrC,OAAOV,KAAK8B,KAAKc,KAAU5C,KAAK+B,cAAcvB,MAAM,YAAcb,KAAO,UAAWe,GAASgG,EAAS1G,KAAKgC,aACxGM,KACCC,EAAAA,MAAM,GACNC,EAAAA,WAAWxD,EAAYC,eAKtBqH,EAAAlG,UAAAuG,YAAA,SAAYjG,GACjB,OAAOV,KAAK8B,KAAKO,IAASrC,KAAK+B,cAAcvB,MAAM,oBAAqBE,IACrE4B,KACCC,EAAAA,MAAM,GACNC,EAAAA,WAAWxD,EAAYC,iBA3C/B,0JAHCyC,EAAAA,WAAUC,KAAA,CAAC,CACVC,WAAY,oDARNkB,EAAAA,kBAIA/C,KCMR,IAAA6G,EAAA,WAEE,SAAAA,EAAoB9E,EAA0BC,GAA1B/B,KAAA8B,KAAAA,EAA0B9B,KAAA+B,cAAAA,SAIvC6E,EAAAxG,UAAAyG,gBAAA,SAAgBnG,GACrB,OAAOV,KAAK8B,KAAKO,IAASrC,KAAK+B,cAAcvB,MAAM,eAAgBE,IAChE4B,KACCC,EAAAA,MAAM,GACNC,EAAAA,WAAWxD,EAAYC,iBAV/B,0JAHCyC,EAAAA,WAAUC,KAAA,CAAC,CACVC,WAAY,oDARNkB,EAAAA,kBACA/C,KCSR,IAAA+G,EAAA,WAEE,SAAAA,EAAoBhF,EAA0BC,GAA1B/B,KAAA8B,KAAAA,EAA0B9B,KAAA+B,cAAAA,SAIvC+E,EAAA1G,UAAA2G,WAAA,SAAWrG,GAChB,OAAOV,KAAK8B,KAAKO,IAASrC,KAAK+B,cAAcvB,MAAM,iBAAkBE,IAClE4B,KACCC,EAAAA,MAAM,GACNC,EAAAA,WAAWxD,EAAYC,eAKtB6H,EAAA1G,UAAA4G,WAAA,SAAWtG,GAChB,OAAOV,KAAK8B,KAAKO,IAASrC,KAAK+B,cAAcvB,MAAM,iBAAkBE,IAClE4B,KACCC,EAAAA,MAAM,GACNC,EAAAA,WAAWxD,EAAYC,eAKtB6H,EAAA1G,UAAA6G,QAAA,SAAQvG,GACb,OAAOV,KAAK8B,KAAKO,IAASrC,KAAK+B,cAAcvB,MAAM,cAAeE,IAC/D4B,KACCC,EAAAA,MAAM,GACNC,EAAAA,WAAWxD,EAAYC,iBA5B/B,0JAHCyC,EAAAA,WAAUC,KAAA,CAAC,CACVC,WAAY,oDARNkB,EAAAA,kBAIA/C,KCKR,IAAAmH,EAAA,WAEE,SAAAA,EAAoBpF,EAA0BC,GAA1B/B,KAAA8B,KAAAA,EAA0B9B,KAAA+B,cAAAA,SAIvCmF,EAAA9G,UAAA+G,OAAA,SAAOC,GAEZ,IAAMC,EAAa,IAAIC,SAIvB,OAFAD,EAAWE,OAAO,OAAQH,GAEnBpH,KAAK8B,KAAKc,KAAU5C,KAAK+B,cAAcvB,MAAM,UAAW6G,EAAY,CACzEG,gBAAgB,EAChBC,QAAS,WACRnF,KACDC,EAAAA,MAAM,GACNC,EAAAA,WAAWxD,EAAYC,iBAjB7B,0JAHCyC,EAAAA,WAAUC,KAAA,CAAC,CACVC,WAAY,oDAPNkB,EAAAA,kBAGA/C,KCOR,IAAA2H,EAAA,WAQE,SAAAA,EAAoB5F,EAA0BC,GAA1B/B,KAAA8B,KAAAA,EAA0B9B,KAAA+B,cAAAA,EANtC/B,KAAAgC,YAAc,CACpBC,QAAS,IAAIC,EAAAA,YAAY,CACvBC,eAAgB,6BAQbuF,EAAAtH,UAAAuH,cAAA,SAAcjH,GACnB,OAAOV,KAAK8B,KAAKO,IAASrC,KAAK+B,cAAcvB,MAAM,WAAYE,IAC5D4B,KACCC,EAAAA,MAAM,GACNC,EAAAA,WAAWxD,EAAYC,eAKtByI,EAAAtH,UAAAwH,SAAA,SAASlH,GACd,OAAOV,KAAK8B,KAAKO,IAASrC,KAAK+B,cAAcvB,MAAM,QAASE,IACzD4B,KACCC,EAAAA,MAAM,GACNC,EAAAA,WAAWxD,EAAYC,eAKtByI,EAAAtH,UAAAyH,QAAA,SAAQC,EAAepH,GAC5B,OAAOV,KAAK8B,KAAKO,IAASrC,KAAK+B,cAAcvB,MAAM,SAAWsH,EAAOpH,IAClE4B,KACCC,EAAAA,MAAM,GACNC,EAAAA,WAAWxD,EAAYC,eAKtByI,EAAAtH,UAAA2H,WAAA,SAAWD,GAChB,OAAO9H,KAAK8B,KAAKO,IAASrC,KAAK+B,cAAcvB,MAAM,SAAWsH,EAAQ,YACnExF,KACCC,EAAAA,MAAM,GACNC,EAAAA,WAAWxD,EAAYC,eAKtByI,EAAAtH,UAAA4H,WAAA,SAAWC,EAAYvH,GAC5B,OAAOV,KAAK8B,KAAKc,KAAU5C,KAAK+B,cAAcvB,MAAM,SAAWyH,EAAKH,MAAQ,UAAWpH,GAASuH,EAAMjI,KAAKgC,aACxGM,KACCC,EAAAA,MAAM,GACNC,EAAAA,WAAWxD,EAAYC,iBApD/B,0JAHCyC,EAAAA,WAAUC,KAAA,CAAC,CACVC,WAAY,oDARNkB,EAAAA,kBAGA/C","sourcesContent":["/**\r\n * Copyright: (c) 2021, Michal Mocnak <michal@narra.eu>, Eric Rosenzveig <eric@narra.eu>\r\n * Copyright: (c) 2021, Narra Project\r\n * GNU General Public License v3.0+ (see COPYING or https://www.gnu.org/licenses/gpl-3.0.txt)\r\n */\r\n\r\nexport enum EventStatus {\r\n  pending = 'pending',\r\n  running = 'running',\r\n  done = 'done'\r\n}\r\n","/**\r\n * Copyright: (c) 2021, Michal Mocnak <michal@narra.eu>, Eric Rosenzveig <eric@narra.eu>\r\n * Copyright: (c) 2021, Narra Project\r\n * GNU General Public License v3.0+ (see COPYING or https://www.gnu.org/licenses/gpl-3.0.txt)\r\n */\r\n\r\nexport enum ItemType {\r\n  text = 'text',\r\n  audio = 'audio',\r\n  video = 'video',\r\n  picture = 'picture'\r\n}\r\n","/**\r\n * Copyright: (c) 2021, Michal Mocnak <michal@narra.eu>, Eric Rosenzveig <eric@narra.eu>\r\n * Copyright: (c) 2021, Narra Project\r\n * GNU General Public License v3.0+ (see COPYING or https://www.gnu.org/licenses/gpl-3.0.txt)\r\n */\r\n\r\nexport enum QueryOperator {\r\n  or = 'or',\r\n  and = 'and'\r\n}\r\n","/**\n * Copyright: (c) 2021, Michal Mocnak <michal@narra.eu>, Eric Rosenzveig <eric@narra.eu>\n * Copyright: (c) 2021, Narra Project\n * GNU General Public License v3.0+ (see COPYING or https://www.gnu.org/licenses/gpl-3.0.txt)\n */\n\nexport enum RoleType {\n  admin = 'admin',\n  author = 'author'\n}\n","/**\n * Copyright: (c) 2021, Michal Mocnak <michal@narra.eu>, Eric Rosenzveig <eric@narra.eu>\n * Copyright: (c) 2021, Narra Project\n * GNU General Public License v3.0+ (see COPYING or https://www.gnu.org/licenses/gpl-3.0.txt)\n */\n\nexport enum ScenarioType {\n  project = 'project',\n  library = 'library'\n}\n","/**\n * Copyright: (c) 2021, Michal Mocnak <michal@narra.eu>, Eric Rosenzveig <eric@narra.eu>\n * Copyright: (c) 2021, Narra Project\n * GNU General Public License v3.0+ (see COPYING or https://www.gnu.org/licenses/gpl-3.0.txt)\n */\n\nimport {HttpErrorResponse} from '@angular/common/http';\nimport {throwError} from 'rxjs';\n\nexport class ErrorHelper {\n\n  public static handleError(error: HttpErrorResponse) {\n    if (error.error instanceof ErrorEvent) {\n      // A client-side or network error occurred. Handle it accordingly.\n      console.error('An error occurred:', error.error.message);\n    } else {\n      // The backend returned an unsuccessful response code.\n      // The response body may contain clues as to what went wrong.\n      console.error(\n        `Backend returned code ${error.status}, ` +\n        `body was: ${error.error}`);\n    }\n    // Return an observable with a user-facing error message.\n    return throwError(\n      'Something bad happened; please try again later.');\n  }\n}\n","/**\n * Copyright: (c) 2021, Michal Mocnak <michal@narra.eu>, Eric Rosenzveig <eric@narra.eu>\n * Copyright: (c) 2021, Narra Project\n * GNU General Public License v3.0+ (see COPYING or https://www.gnu.org/licenses/gpl-3.0.txt)\n */\n\nimport {Meta, Metable} from '../models';\n\nexport class MetaHelper {\n\n  public static getMeta(object: Metable, name: string): Meta {\n    return object.metadata.find((meta) => {\n      return meta.name === name;\n    });\n  }\n}\n","/**\n * Copyright: (c) 2021, Michal Mocnak <michal@narra.eu>, Eric Rosenzveig <eric@narra.eu>\n * Copyright: (c) 2021, Narra Project\n * GNU General Public License v3.0+ (see COPYING or https://www.gnu.org/licenses/gpl-3.0.txt)\n */\n\nimport {Injectable} from '@angular/core';\nimport {Pagination, Filter, Selector, Query} from '../models';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ServerService {\n  private server: string;\n  private version: number;\n  private initialized: boolean;\n\n  constructor() {\n    // default values\n    this.server = 'http://api.narra';\n    this.version = 1;\n    this.initialized = false;\n  }\n\n  //\n  // initialize\n  //\n  public initialize(server?: string, version?: number): void {\n    // set server if provided\n    if (server) {\n      this.server = server;\n    }\n    // set version if provided\n    if (version) {\n      this.version = version;\n    }\n    // set init flag\n    this.initialized = true;\n  }\n\n  //\n  // getters\n  //\n  public get apiServer(): string {\n    return this.server;\n  }\n\n  public get apiVersion(): number {\n    return this.version;\n  }\n\n  public get isInitialized(): boolean {\n    return this.initialized;\n  }\n\n  //\n  // public methods\n  //\n  public query(path: string, filter?: Filter, pagination?: Pagination, query?: Query, selectors?: Selector[]): string {\n    // prepare params\n    let params = `${path}?`;\n    // filters\n    if (filter) {\n      filter.filters.forEach((f: string) => {\n        params += `filters[]=${f}&`;\n      });\n    }\n    // selectors\n    if (selectors) {\n      selectors.forEach((selector) => {\n        selector.content.forEach((value) => {\n          params += `${selector.name}[]=${value}&`;\n        });\n      });\n    }\n    // query\n    if (query) {\n      // add query fields\n      params += `query=${query.query}&`;\n      // add operator\n      if (query.queryOperator) {\n        params += `query_operator=${query.queryOperator}&`;\n      }\n      // add fields\n      if (query.queryFields) {\n        query.queryFields.forEach((field) => {\n          params += `query_fields[]=${field}&`;\n        });\n      }\n    }\n    // pagination\n    if (pagination) {\n      // add pagination parameters\n      params += `page=${pagination.page}&per_page=${pagination.perPage}&offset=${pagination.offset}`;\n    }\n    // check for pagination\n    return this.server + '/v' + this.version + '/' + params;\n  }\n}\n","/**\n * Copyright: (c) 2021, Michal Mocnak <michal@narra.eu>, Eric Rosenzveig <eric@narra.eu>\n * Copyright: (c) 2021, Narra Project\n * GNU General Public License v3.0+ (see COPYING or https://www.gnu.org/licenses/gpl-3.0.txt)\n */\n\nimport  {Injectable} from '@angular/core';\nimport {HttpClient, HttpHeaders} from '@angular/common/http';\nimport {Observable} from 'rxjs';\nimport {catchError, retry} from 'rxjs/operators';\nimport {Action, Filter, Response} from '../models';\nimport {ServerService} from './server.service';\nimport {ErrorHelper} from '../helpers';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ActionService {\n\n  private httpOptions = {\n    headers: new HttpHeaders({\n      'Content-Type': 'application/json'\n    })\n  };\n\n  constructor(private http: HttpClient, private serverService: ServerService) {\n  }\n\n  // GET actions '/v1/actions'\n  public getActions(filter?: Filter): Observable<Response<Action[], 'actions'>> {\n    return this.http.get<any>(this.serverService.query('actions', filter))\n      .pipe(\n        retry(1),\n        catchError(ErrorHelper.handleError)\n      );\n  }\n\n  // POST perform action '/v1/action/:identifier/perform'\n  public performAction(items: string[], action: Action, filter?: Filter): Observable<Response<Action, 'action'>> {\n    return this.http.post<any>(this.serverService.query(`actions/${action.identifier}/perform`, filter), { items }, this.httpOptions)\n      .pipe(\n        retry(1),\n        catchError(ErrorHelper.handleError)\n      );\n  }\n}\n","/**\n * Copyright: (c) 2021, Michal Mocnak <michal@narra.eu>, Eric Rosenzveig <eric@narra.eu>\n * Copyright: (c) 2021, Narra Project\n * GNU General Public License v3.0+ (see COPYING or https://www.gnu.org/licenses/gpl-3.0.txt)\n */\n\nimport {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport {Observable} from 'rxjs';\nimport {catchError, retry} from 'rxjs/operators';\nimport {Connector, Filter, Response} from '../models';\nimport {ServerService} from './server.service';\nimport {ErrorHelper} from '../helpers';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ConnectorService {\n\n  constructor(private http: HttpClient, private serverService: ServerService) {\n  }\n\n  // GET connectors '/v1/connectors'\n  public getConnectors(filter?: Filter): Observable<Response<Connector[], 'connectors'>> {\n    return this.http.get<any>(this.serverService.query('connectors', filter))\n      .pipe(\n        retry(1),\n        catchError(ErrorHelper.handleError)\n      );\n  }\n}\n","/**\n * Copyright: (c) 2021, Michal Mocnak <michal@narra.eu>, Eric Rosenzveig <eric@narra.eu>\n * Copyright: (c) 2021, Narra Project\n * GNU General Public License v3.0+ (see COPYING or https://www.gnu.org/licenses/gpl-3.0.txt)\n */\n\nimport {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport {Observable} from 'rxjs';\nimport {retry, catchError} from 'rxjs/operators';\nimport {ServerService} from './server.service';\nimport {Event, Filter, Response} from '../models';\nimport {ErrorHelper} from '../helpers';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class EventService {\n\n  constructor(private http: HttpClient, private serverService: ServerService) {\n  }\n\n  // GET events by default '/v1/events/me' possibly can be modified to admin's all '/v1/events'\n  public getEvents(selection: string = 'me', filter?: Filter): Observable<Response<Event[], 'events'>> {\n    return this.http.get<any>(this.serverService.query('events/' + selection, filter))\n      .pipe(\n        retry(1),\n        catchError(ErrorHelper.handleError)\n      );\n  }\n}\n","/**\n * Copyright: (c) 2021, Michal Mocnak <michal@narra.eu>, Eric Rosenzveig <eric@narra.eu>\n * Copyright: (c) 2021, Narra Project\n * GNU General Public License v3.0+ (see COPYING or https://www.gnu.org/licenses/gpl-3.0.txt)\n */\n\nimport {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport {Observable} from 'rxjs';\nimport {catchError, retry} from 'rxjs/operators';\nimport {ServerService} from './server.service';\nimport {Generator, Filter, Response} from '../models';\nimport {ErrorHelper} from '../helpers';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class GeneratorService {\n\n  constructor(private http: HttpClient, private serverService: ServerService) {\n  }\n\n  // GET generators '/v1/generators'\n  public getGenerators(filter?: Filter): Observable<Response<Generator[], 'generators'>> {\n    return this.http.get<any>(this.serverService.query('generators', filter))\n      .pipe(\n        retry(1),\n        catchError(ErrorHelper.handleError)\n      );\n  }\n}\n","/**\n * Copyright: (c) 2021, Michal Mocnak <michal@narra.eu>, Eric Rosenzveig <eric@narra.eu>\n * Copyright: (c) 2021, Narra Project\n * GNU General Public License v3.0+ (see COPYING or https://www.gnu.org/licenses/gpl-3.0.txt)\n */\n\nimport {Injectable} from '@angular/core';\nimport {HttpClient, HttpHeaders} from '@angular/common/http';\nimport {Observable, of, throwError} from 'rxjs';\nimport {catchError, map, mergeMap, retry} from 'rxjs/operators';\nimport {ServerService} from './server.service';\nimport {Candidate, Item, Library, Meta, Proxy, Filter, Response} from '../models';\nimport {ErrorHelper} from '../helpers';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ItemService {\n\n  private httpOptions = {\n    headers: new HttpHeaders({\n      'Content-Type': 'application/json'\n    })\n  };\n\n  constructor(private http: HttpClient, private serverService: ServerService) {\n  }\n\n  // POST check url '/v1/items/check'\n  public check(url: string, filter?: Filter): Observable<Response<Proxy[], 'proxies'>> {\n    return this.http.post<any>(this.serverService.query('items/check', filter), { url }, this.httpOptions)\n      .pipe(\n        retry(1),\n        catchError(ErrorHelper.handleError)\n      );\n  }\n\n  // POST new item '/v1/items/new'\n  public addItems(candidates: Candidate[], filter?: Filter): Observable<Response<string[], 'events'>> {\n    return this.http.post<any>(this.serverService.query('items/new', filter), { candidates }, this.httpOptions)\n      .pipe(\n        retry(1),\n        catchError(ErrorHelper.handleError)\n      );\n  }\n\n  // GET item '/v1/items/{id}'\n  public getItem(id: string, filter?: Filter): Observable<Response<Item, 'item'>> {\n    return this.http.get<any>(this.serverService.query('items/' + id, filter))\n      .pipe(\n        retry(1),\n        catchError(ErrorHelper.handleError)\n      );\n  }\n\n\n  // POST new item metadata '/v1/items/{name}/metadata/new'\n  public addItemMeta(id: string, meta: Pick<Meta, 'name' | 'value' | 'generator'>, filter?: Filter): Observable<Response<Meta, 'metadata'>> {\n    return this.http.post<any>(this.serverService.query('items/' + id + '/metadata/new', filter), meta, this.httpOptions)\n      .pipe(\n        retry(1),\n        catchError(ErrorHelper.handleError)\n      );\n  }\n\n  // POST update item metadata '/v1/items/{name}/metadata/{meta}/update'\n  public updateItemMeta(id: string, meta: Pick<Meta, 'name' | 'value' | 'generator'>, filter?: Filter): Observable<Response<Meta, 'metadata'>> {\n    return this.http.post<any>(this.serverService.query('items/' + id + '/metadata/' + meta.name + '/update', filter), meta, this.httpOptions)\n      .pipe(\n        retry(1),\n        catchError(ErrorHelper.handleError)\n      );\n  }\n\n  // GET delete item metadata '/v1/items/{name}/metadata/{meta}/delete'\n  public deleteItemMeta(id: string, meta: Pick<Meta, 'name' | 'generator'>): Observable<Response<string, 'name'>> {\n    return this.http.get<any>(this.serverService.query('items/' + id + '/metadata/' + meta.name + '/delete?generator=' + meta.generator))\n      .pipe(\n        retry(1),\n        catchError(ErrorHelper.handleError)\n      );\n  }\n}\n\n","/**\n * Copyright: (c) 2021, Michal Mocnak <michal@narra.eu>, Eric Rosenzveig <eric@narra.eu>\n * Copyright: (c) 2021, Narra Project\n * GNU General Public License v3.0+ (see COPYING or https://www.gnu.org/licenses/gpl-3.0.txt)\n */\n\nimport {Injectable} from '@angular/core';\nimport {HttpClient, HttpHeaders} from '@angular/common/http';\nimport {Observable} from 'rxjs';\nimport {catchError, map, retry} from 'rxjs/operators';\nimport {ServerService} from './server.service';\nimport {Item, Library, Meta, Pagination, Project, Filter, Response, Query} from '../models';\nimport {ErrorHelper} from '../helpers';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LibraryService {\n\n  private httpOptions = {\n    headers: new HttpHeaders({\n      'Content-Type': 'application/json'\n    })\n  };\n\n  constructor(private http: HttpClient, private serverService: ServerService) {\n  }\n\n  // POST validate '/v1/libraries/validate'\n  public validate(name: string, filter?: Filter): Observable<Response<boolean, 'validation'>> {\n    return this.http.post<any>(this.serverService.query('libraries/validate', filter), {name}, this.httpOptions)\n      .pipe(\n        retry(1),\n        catchError(ErrorHelper.handleError)\n      );\n  }\n\n  // GET libraries '/v1/libraries'\n  public getLibraries(filter?: Filter): Observable<Response<Library[], 'libraries'>> {\n    return this.http.get<any>(this.serverService.query('libraries', filter))\n      .pipe(\n        retry(1),\n        catchError(ErrorHelper.handleError)\n      );\n  }\n\n  // GET library '/v1/libraries/{id}'\n  public getLibrary(id: string, filter?: Filter): Observable<Response<Library, 'library'>> {\n    return this.http.get<any>(this.serverService.query('libraries/' + id, filter))\n      .pipe(\n        retry(1),\n        catchError(ErrorHelper.handleError)\n      );\n  }\n\n  // GET library items '/v1/libraries/{id}/items'\n  public getItems(id: string, filter?: Filter, pagination?: Pagination, query?: Query): Observable<Response<Item[], 'items'>> {\n    return this.http.get<any>(this.serverService.query('libraries/' + id + '/items', filter, pagination, query))\n      .pipe(\n        retry(1),\n        catchError(ErrorHelper.handleError)\n      );\n  }\n\n  // POST delete library items '/v1/libraries/{id}/items/delete'\n  public deleteItems(id: string, items: string[]): Observable<Response<string[], 'ids'>> {\n    return this.http.post<any>(this.serverService.query('libraries/' + id + '/items/delete'), {items}, this.httpOptions)\n      .pipe(\n        retry(1),\n        catchError(ErrorHelper.handleError)\n      );\n  }\n\n  // POST new library '/v1/libraries/new'\n  public addLibrary(library: Library, filter?: Filter): Observable<Response<Library, 'library'>> {\n    return this.http.post<any>(this.serverService.query('libraries/new', filter), library, this.httpOptions)\n      .pipe(\n        retry(1),\n        catchError(ErrorHelper.handleError)\n      );\n  }\n\n  // POST update library '/v1/libraries/{id}/update'\n  public updateLibrary(library: Library, filter?: Filter): Observable<Response<Library, 'library'>> {\n    return this.http.post<any>(this.serverService.query('libraries/' + library.id + '/update', filter), library, this.httpOptions)\n      .pipe(\n        retry(1),\n        catchError(ErrorHelper.handleError)\n      );\n  }\n\n  // GET clean library '/v1/libraries/{id}/clean'\n  public cleanLibrary(id: string): Observable<Response<string, 'id'>> {\n    return this.http.get<any>(this.serverService.query('libraries/' + id + '/clean'))\n      .pipe(\n        retry(1),\n        catchError(ErrorHelper.handleError)\n      );\n  }\n\n  // GET delete library '/v1/libraries/{id}/delete'\n  public deleteLibrary(id: string): Observable<Response<string, 'id'>> {\n    return this.http.get<any>(this.serverService.query('libraries/' + id + '/delete'))\n      .pipe(\n        retry(1),\n        catchError(ErrorHelper.handleError)\n      );\n  }\n\n  // POST new library metadata '/v1/libraries/{name}/metadata/new'\n  public addLibraryMeta(id: string, meta: Pick<Meta, 'name' | 'value'>, filter?: Filter): Observable<Response<Meta, 'metadata'>> {\n    return this.http.post<any>(this.serverService.query('libraries/' + id + '/metadata/new', filter), meta, this.httpOptions)\n      .pipe(\n        retry(1),\n        catchError(ErrorHelper.handleError)\n      );\n  }\n\n  // POST update library metadata '/v1/libraries/{name}/metadata/{meta}/update'\n  public updateLibraryMeta(id: string, meta: Pick<Meta, 'name' | 'value'>, filter?: Filter): Observable<Response<Meta, 'metadata'>> {\n    return this.http.post<any>(this.serverService.query('libraries/' + id + '/metadata/' + meta.name + '/update', filter), meta, this.httpOptions)\n      .pipe(\n        retry(1),\n        catchError(ErrorHelper.handleError)\n      );\n  }\n\n  // GET delete library metadata '/v1/libraries/{name}/metadata/{meta}/delete'\n  public deleteLibraryMeta(id: string, meta: Pick<Meta, 'name'>): Observable<Response<string, 'name'>> {\n    return this.http.get<any>(this.serverService.query('libraries/' + id + '/metadata/' + meta.name + '/delete'))\n      .pipe(\n        retry(1),\n        catchError(ErrorHelper.handleError)\n      );\n  }\n}\n","/**\n * Copyright: (c) 2021, Michal Mocnak <michal@narra.eu>, Eric Rosenzveig <eric@narra.eu>\n * Copyright: (c) 2021, Narra Project\n * GNU General Public License v3.0+ (see COPYING or https://www.gnu.org/licenses/gpl-3.0.txt)\n */\n\nimport {Injectable} from '@angular/core';\nimport {HttpClient, HttpHeaders} from '@angular/common/http';\nimport {Observable} from 'rxjs';\nimport {catchError, map, retry} from 'rxjs/operators';\nimport {ServerService} from './server.service';\nimport {Item, Library, Meta, Pagination, Project, Filter, Response, Query} from '../models';\nimport {ErrorHelper} from '../helpers';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ProjectService {\n\n  private httpOptions = {\n    headers: new HttpHeaders({\n      'Content-Type': 'application/json'\n    })\n  };\n\n  constructor(private http: HttpClient, private serverService: ServerService) {\n  }\n\n  // POST validate '/v1/projects/validate'\n  public validate(id: string, name: string, filter?: Filter): Observable<Response<boolean, 'validation'>> {\n    return this.http.post<any>(this.serverService.query('projects/validate', filter), {id, name}, this.httpOptions)\n      .pipe(\n        retry(1),\n        catchError(ErrorHelper.handleError)\n      );\n  }\n\n  // GET projects '/v1/projects'\n  public getProjects(filter?: Filter): Observable<Response<Project[], 'projects'>> {\n    return this.http.get<any>(this.serverService.query('projects', filter))\n      .pipe(\n        retry(1),\n        catchError(ErrorHelper.handleError)\n      );\n  }\n\n  // GET project '/v1/projects/{name}'\n  public getProject(id: string, filter?: Filter): Observable<Response<Project, 'project'>> {\n    return this.http.get<any>(this.serverService.query('projects/' + id, filter))\n      .pipe(\n        retry(1),\n        catchError(ErrorHelper.handleError)\n      );\n  }\n\n  // GET project's items '/v1/projects/{id}/items'\n  // default libraries selector: all\n  // default meta selector: none\n  public getProjectItems(id: string, libraries?: string[], meta?: string[], query?: Query, filter?: Filter, pagination?: Pagination): Observable<Response<Item[], 'items'>> {\n    // prepare selectors\n    const selectors = [];\n    // libraries selector\n    if (libraries) {\n      selectors.push({name: 'libraries', content: libraries});\n    }\n    // meta selector\n    if (meta) {\n      selectors.push({name: 'meta', content: meta});\n    }\n    return this.http.get<any>(this.serverService.query('projects/' + id + '/items', filter, pagination, query, selectors))\n      .pipe(\n        retry(1),\n        catchError(ErrorHelper.handleError)\n      );\n  }\n\n  // GET project's libraries '/v1/projects/{id}/libraries'\n  public getProjectLibraries(id: string, filter?: Filter): Observable<Response<Library[], 'libraries'>> {\n    return this.http.get<any>(this.serverService.query('projects/' + id + '/libraries', filter))\n      .pipe(\n        retry(1),\n        catchError(ErrorHelper.handleError)\n      );\n  }\n\n  // GET project's library '/v1/projects/{id}/libraries/{library}'\n  public getProjectLibrary(id: string, library: string, filter?: Filter): Observable<Response<Library, 'library'>> {\n    return this.http.get<any>(this.serverService.query('projects/' + id + '/libraries/' + library, filter))\n      .pipe(\n        retry(1),\n        catchError(ErrorHelper.handleError)\n      );\n  }\n\n  // POST new project '/v1/projects/new'\n  public addProject(project: Project, filter?: Filter): Observable<Response<Project, 'project'>> {\n    return this.http.post<any>(this.serverService.query('projects/new', filter), project, this.httpOptions)\n      .pipe(\n        retry(1),\n        catchError(ErrorHelper.handleError)\n      );\n  }\n\n  // POST update project '/v1/projects/{name}/update'\n  public updateProject(project: Project, filter?: Filter): Observable<Response<Project, 'project'>> {\n    return this.http.post<any>(this.serverService.query('projects/' + project.id + '/update', filter), project, this.httpOptions)\n      .pipe(\n        retry(1),\n        catchError(ErrorHelper.handleError)\n      );\n  }\n\n  // GET delete project '/v1/projects/{name}/delete'\n  public deleteProject(id: string): Observable<Response<string, 'id'>> {\n    return this.http.get<any>(this.serverService.query('projects/' + id + '/delete'))\n      .pipe(\n        retry(1),\n        catchError(ErrorHelper.handleError)\n      );\n  }\n\n  // POST new project metadata '/v1/projects/{name}/metadata/new'\n  public addProjectMeta(id: string, meta: Pick<Meta, 'name' | 'value'>, filter?: Filter): Observable<Response<Meta, 'metadata'>> {\n    return this.http.post<any>(this.serverService.query('projects/' + id + '/metadata/new', filter), meta, this.httpOptions)\n      .pipe(\n        retry(1),\n        catchError(ErrorHelper.handleError)\n      );\n  }\n\n  // POST update project metadata '/v1/projects/{name}/metadata/{meta}/update'\n  public updateProjectMeta(id: string, meta: Pick<Meta, 'name' | 'value'>, filter?: Filter): Observable<Response<Meta, 'metadata'>> {\n    return this.http.post<any>(this.serverService.query('projects/' + id + '/metadata/' + meta.name + '/update', filter), meta, this.httpOptions)\n      .pipe(\n        retry(1),\n        catchError(ErrorHelper.handleError)\n      );\n  }\n\n  // GET delete project metadata '/v1/projects/{name}/metadata/{meta}/delete'\n  public deleteProjectMeta(id: string, meta: Pick<Meta, 'name'>): Observable<Response<string, 'name'>> {\n    return this.http.get<any>(this.serverService.query('projects/' + id + '/metadata/' + meta.name + '/delete'))\n      .pipe(\n        retry(1),\n        catchError(ErrorHelper.handleError)\n      );\n  }\n}\n","/**\n * Copyright: (c) 2021, Michal Mocnak <michal@narra.eu>, Eric Rosenzveig <eric@narra.eu>\n * Copyright: (c) 2021, Narra Project\n * GNU General Public License v3.0+ (see COPYING or https://www.gnu.org/licenses/gpl-3.0.txt)\n */\n\nimport {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport {Observable} from 'rxjs';\nimport {retry, catchError} from 'rxjs/operators';\nimport {ServerService} from './server.service';\nimport {Provider, Response} from '../models';\nimport {ErrorHelper} from '../helpers';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ProviderService {\n\n  constructor(private http: HttpClient, private serverService: ServerService) {\n  }\n\n  // GET authentication providers '/auth/providers'\n  public getProviders(): Observable<Response<Provider[], 'providers'>> {\n    return this.http.get<any>(this.serverService.apiServer + '/auth/providers')\n      .pipe(\n        retry(1),\n        catchError(ErrorHelper.handleError)\n      );\n  }\n}\n","/**\n * Copyright: (c) 2021, Michal Mocnak <michal@narra.eu>, Eric Rosenzveig <eric@narra.eu>\n * Copyright: (c) 2021, Narra Project\n * GNU General Public License v3.0+ (see COPYING or https://www.gnu.org/licenses/gpl-3.0.txt)\n */\n\nimport {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport {Observable} from 'rxjs';\nimport {catchError, retry} from 'rxjs/operators';\nimport {Filter, Response, Return} from '../models';\nimport {ServerService} from './server.service';\nimport {ErrorHelper} from '../helpers';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ReturnService {\n\n  constructor(private http: HttpClient, private serverService: ServerService) {\n  }\n\n  // GET return '/v1/returns/:id'\n  public getReturn(id: string, filter?: Filter): Observable<Response<Return, 'return'>> {\n    return this.http.get<any>(this.serverService.query('returns/' + id, filter))\n      .pipe(\n        retry(1),\n        catchError(ErrorHelper.handleError)\n      );\n  }\n}\n","/**\n * Copyright: (c) 2021, Michal Mocnak <michal@narra.eu>, Eric Rosenzveig <eric@narra.eu>\n * Copyright: (c) 2021, Narra Project\n * GNU General Public License v3.0+ (see COPYING or https://www.gnu.org/licenses/gpl-3.0.txt)\n */\n\nimport {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport {Observable} from 'rxjs';\nimport {catchError, map, retry} from 'rxjs/operators';\nimport {ServerService} from './server.service';\nimport {Response, Scenario} from '../models';\nimport {ErrorHelper} from '../helpers';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ScenarioService {\n\n  constructor(private http: HttpClient, private serverService: ServerService) {\n  }\n\n  // GET scenarios '/v1/scenarios'\n  public getScenarios(): Observable<Response<Scenario[], 'scenarios'>> {\n    return this.http.get<any>(this.serverService.query('scenarios'))\n      .pipe(\n        retry(1),\n        catchError(ErrorHelper.handleError)\n      );\n  }\n\n  // GET scenario '/v1/scenarios/{id}'\n  public getScenario(id: string): Observable<Response<Scenario, 'scenario'>> {\n    return this.http.get<any>(this.serverService.query('scenarios/' + id))\n      .pipe(\n        retry(1),\n        catchError(ErrorHelper.handleError)\n      );\n  }\n}\n","/**\n * Copyright: (c) 2021, Michal Mocnak <michal@narra.eu>, Eric Rosenzveig <eric@narra.eu>\n * Copyright: (c) 2021, Narra Project\n * GNU General Public License v3.0+ (see COPYING or https://www.gnu.org/licenses/gpl-3.0.txt)\n */\n\nimport {Injectable} from '@angular/core';\nimport {HttpClient, HttpHeaders} from '@angular/common/http';\nimport {Observable} from 'rxjs';\nimport {Filter, Response, Setting} from '../models';\nimport {catchError, map, retry} from 'rxjs/operators';\nimport {ServerService} from './server.service';\nimport {ErrorHelper} from '../helpers';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SettingService {\n\n  private httpOptions = {\n    headers: new HttpHeaders({\n      'Content-Type': 'application/json'\n    })\n  };\n\n  constructor(private http: HttpClient, private serverService: ServerService) {\n  }\n\n  // GET settings '/v1/settings'\n  public getSettings(filter?: Filter): Observable<Response<Setting[], 'settings'>> {\n    return this.http.get<any>(this.serverService.query('settings', filter))\n      .pipe(\n        retry(1),\n        catchError(ErrorHelper.handleError)\n      );\n  }\n\n  // GET setting '/v1/settings/{name}'\n  public getSetting(name: string, filter?: Filter): Observable<Response<Setting, 'setting'>> {\n    return this.http.get<any>(this.serverService.query('settings/' + name, filter))\n      .pipe(\n        retry(1),\n        catchError(ErrorHelper.handleError)\n      );\n  }\n\n  // POST update setting '/v1/settings/{name}/update'\n  public updateSetting(setting: Setting, filter?: Filter): Observable<Response<Setting, 'setting'>> {\n    return this.http.post<any>(this.serverService.query('settings/' + name + '/update', filter), setting, this.httpOptions)\n      .pipe(\n        retry(1),\n        catchError(ErrorHelper.handleError)\n      );\n  }\n\n  // GET settings default values '/v1/settings/defaults'\n  public getDefaults(filter?: Filter): Observable<Response<Setting[], 'settings'>> {\n    return this.http.get<any>(this.serverService.query('settings/defaults', filter))\n      .pipe(\n        retry(1),\n        catchError(ErrorHelper.handleError)\n      );\n  }\n}\n","/**\n * Copyright: (c) 2021, Michal Mocnak <michal@narra.eu>, Eric Rosenzveig <eric@narra.eu>\n * Copyright: (c) 2021, Narra Project\n * GNU General Public License v3.0+ (see COPYING or https://www.gnu.org/licenses/gpl-3.0.txt)\n */\n\nimport {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport {ServerService} from './server.service';\nimport {catchError, retry} from 'rxjs/operators';\nimport {Observable} from 'rxjs';\nimport {Filter, Response, Synthesizer} from '../models';\nimport {ErrorHelper} from '../helpers';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SynthesizerService {\n\n  constructor(private http: HttpClient, private serverService: ServerService) {\n  }\n\n  // GET synthesizers '/v1/synthesizers'\n  public getSynthesizers(filter?: Filter): Observable<Response<Synthesizer[], 'synthesizers'>> {\n    return this.http.get<any>(this.serverService.query('synthesizers', filter))\n      .pipe(\n        retry(1),\n        catchError(ErrorHelper.handleError)\n      );\n  }\n}\n","/**\n * Copyright: (c) 2021, Michal Mocnak <michal@narra.eu>, Eric Rosenzveig <eric@narra.eu>\n * Copyright: (c) 2021, Narra Project\n * GNU General Public License v3.0+ (see COPYING or https://www.gnu.org/licenses/gpl-3.0.txt)\n */\n\nimport {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport {Observable} from 'rxjs';\nimport {Module, Filter, Response, Log} from '../models';\nimport {catchError, retry} from 'rxjs/operators';\nimport {ServerService} from './server.service';\nimport {ErrorHelper} from '../helpers';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SystemService {\n\n  constructor(private http: HttpClient, private serverService: ServerService) {\n  }\n\n  // GET version '/v1/system/version'\n  public getVersion(filter?: Filter): Observable<Response<string, 'version'>> {\n    return this.http.get<any>(this.serverService.query('system/version', filter))\n      .pipe(\n        retry(1),\n        catchError(ErrorHelper.handleError)\n      );\n  }\n\n  // GET modules '/v1/system/modules'\n  public getModules(filter?: Filter): Observable<Response<Module[], 'modules'>> {\n    return this.http.get<any>(this.serverService.query('system/modules', filter))\n      .pipe(\n        retry(1),\n        catchError(ErrorHelper.handleError)\n      );\n  }\n\n  // GET log '/v1/system/logs'\n  public getLogs(filter?: Filter): Observable<Response<Log[], 'logs'>> {\n    return this.http.get<any>(this.serverService.query('system/logs', filter))\n      .pipe(\n        retry(1),\n        catchError(ErrorHelper.handleError)\n      );\n  }\n}\n","/**\n * Copyright: (c) 2021, Michal Mocnak <michal@narra.eu>, Eric Rosenzveig <eric@narra.eu>\n * Copyright: (c) 2021, Narra Project\n * GNU General Public License v3.0+ (see COPYING or https://www.gnu.org/licenses/gpl-3.0.txt)\n */\n\nimport {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport {Observable} from 'rxjs';\nimport {catchError, retry} from 'rxjs/operators';\nimport {ServerService} from './server.service';\nimport {ErrorHelper} from '../helpers';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UploadService {\n\n  constructor(private http: HttpClient, private serverService: ServerService) {\n  }\n\n  // POST upload '/v1/upload'\n  public upload(file: File): Observable<any> {\n    // prepare data\n    const uploadData = new FormData();\n    // set file\n    uploadData.append('file', file);\n    // upload\n    return this.http.post<any>(this.serverService.query('upload'), uploadData, {\n      reportProgress: true,\n      observe: 'events'\n    }).pipe(\n      retry(1),\n      catchError(ErrorHelper.handleError)\n    );\n  }\n}\n","/**\n * Copyright: (c) 2021, Michal Mocnak <michal@narra.eu>, Eric Rosenzveig <eric@narra.eu>\n * Copyright: (c) 2021, Narra Project\n * GNU General Public License v3.0+ (see COPYING or https://www.gnu.org/licenses/gpl-3.0.txt)\n */\n\nimport {Injectable} from '@angular/core';\nimport {HttpClient, HttpHeaders} from '@angular/common/http';\nimport {Observable} from 'rxjs';\nimport {catchError, retry} from 'rxjs/operators';\nimport {ServerService} from './server.service';\nimport {Filter, Response, User} from '../models';\nimport {ErrorHelper} from '../helpers';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UserService {\n\n  private httpOptions = {\n    headers: new HttpHeaders({\n      'Content-Type': 'application/json'\n    })\n  };\n\n  constructor(private http: HttpClient, private serverService: ServerService) {\n  }\n\n  // GET logged user '/v1/users/me'\n  public getLoggedUser(filter?: Filter): Observable<Response<User, 'user'>> {\n    return this.http.get<any>(this.serverService.query('users/me', filter))\n      .pipe(\n        retry(1),\n        catchError(ErrorHelper.handleError)\n      );\n  }\n\n  // GET users '/v1/users'\n  public getUsers(filter?: Filter): Observable<Response<User[], 'users'>> {\n    return this.http.get<any>(this.serverService.query('users', filter))\n      .pipe(\n        retry(1),\n        catchError(ErrorHelper.handleError)\n      );\n  }\n\n  // GET user '/v1/users/{email}'\n  public getUser(email: string, filter?: Filter): Observable<Response<User, 'user'>> {\n    return this.http.get<any>(this.serverService.query('users/' + email, filter))\n      .pipe(\n        retry(1),\n        catchError(ErrorHelper.handleError)\n      );\n  }\n\n  // GET delete user '/v1/users/{email}/delete'\n  public deleteUser(email: string): Observable<Response<string, 'email'>> {\n    return this.http.get<any>(this.serverService.query('users/' + email + '/delete'))\n      .pipe(\n        retry(1),\n        catchError(ErrorHelper.handleError)\n      );\n  }\n\n  // POST update user '/v1/users/{email}/update'\n  public updateUser(user: User, filter?: Filter): Observable<Response<User, 'user'>> {\n    return this.http.post<any>(this.serverService.query('users/' + user.email + '/update', filter), user, this.httpOptions)\n      .pipe(\n        retry(1),\n        catchError(ErrorHelper.handleError)\n      );\n  }\n}\n"]}